"use strict";(self["webpackChunkpolkaswap_exchange_web"]=self["webpackChunkpolkaswap_exchange_web"]||[]).push([[9768],{39768:function(e,t,a){a.r(t),a.d(t,{default:function(){return C}});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sora-card"},[a("s-input",{attrs:{maxlength:"320",placeholder:"Email",disabled:e.loading,type:"email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("p",{staticClass:"sora-card__email-input-description"},[e._v(e._s(e.emailInputDescription))]),e.emailSent?a("s-icon",{attrs:{name:"basic-check-mark-24",size:"16px"}}):e._e(),a("s-input",{staticClass:"sora-card__input-name",attrs:{maxlength:"50",placeholder:"First Name",disabled:e.loading},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}}),a("s-input",{attrs:{maxlength:"50",placeholder:"Last Name",disabled:e.loading},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}}),a("p",{staticClass:"sora-card__name-input-description"},[e._v("Use your real name.")]),a("s-button",{staticClass:"sora-card__btn s-typography-button--large",attrs:{type:"primary",disabled:e.sendBtnDisabled},on:{click:e.handleSendEmail}},[a("span",{staticClass:"text"},[e._v(" "+e._s(e.buttonText)+" ")])])],1)},s=[],n=a(60760),l=a(70655),r=a(53545),o=a(83999),m=a(32806),c=a(37365),h=a(74614),u=a(25108);const d=59;let p=class extends((0,r.Wr)(m.Z,c.tA.LoadingMixin)){constructor(...e){super(...e),(0,n.Z)(this,"authLogin",void 0),(0,n.Z)(this,"firstName",""),(0,n.Z)(this,"lastName",""),(0,n.Z)(this,"email",""),(0,n.Z)(this,"emailSent",!1),(0,n.Z)(this,"emailSentFirstTime",!1),(0,n.Z)(this,"emailResendText",""),(0,n.Z)(this,"emailResendCount",d)}handleSmsCountChange(e){const t=e.toString().length>1?"":"0",a=`${t}${e}`;this.emailResendText=`RESEND AVAILABLE IN 00:${a}`}handleSendEmail(){if(this.startEmailCountDown(),!this.emailSentFirstTime)return this.authLogin.UserMinimalRegistration({Email:this.email,FirstName:this.firstName,LastName:this.lastName}).catch((e=>{u.error(e)})),void(this.emailSentFirstTime=!0);this.authLogin.SendVerificationEmail().catch((function(e){u.error(e)})),this.emailSent=!0}get emailInputDescription(){return this.emailSent?"We’ve sent you the magic link. Check your email!":"We’ll send you a verification email."}get buttonText(){return this.emailSent?this.emailResendText:"SEND VERIFICATION EMAIL"}get sendBtnDisabled(){return!!this.emailSent||(!this.firstName||!this.lastName||!o.validate(this.email))}startEmailCountDown(){const e=setInterval((()=>{this.emailResendCount--,this.emailResendCount<0&&(this.emailSent=!1,this.emailResendCount=d,clearInterval(e))}),1e3)}mounted(){this.authLogin&&this.authLogin.on("Verification-Email-Sent-Success",(()=>{this.emailSent=!0})).on("Otp-Verification-Success",(()=>{})).on("Verification-Email-ReSent-Success",(()=>{this.emailSent=!0})).on("Email-verified",(()=>{this.$emit("confirm")}))}};(0,l.__decorate)([h.SB.soraCard.authLogin],p.prototype,"authLogin",void 0),(0,l.__decorate)([(0,r.RL)("emailResendCount",{immediate:!0})],p.prototype,"handleSmsCountChange",null),p=(0,l.__decorate)([r.wA],p);var g=p,f=g,S=a(1001),_=(0,S.Z)(f,i,s,!1,null,"05cefc35",null),C=_.exports}}]);